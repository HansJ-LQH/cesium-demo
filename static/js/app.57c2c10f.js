(function(t){function e(e){for(var n,a,c=e[0],s=e[1],u=e[2],h=0,f=[];h<c.length;h++)a=c[h],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&f.push(o[a][0]),o[a]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,c=1;c<i.length;c++){var s=i[c];0!==o[s]&&(n=!1)}n&&(r.splice(e--,1),t=a(a.s=i[0]))}return t}var n={},o={app:0},r=[];function a(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,a),i.l=!0,i.exports}a.m=t,a.c=n,a.d=function(t,e,i){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(a.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(i,n,function(e){return t[e]}.bind(null,n));return i},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],s=c.push.bind(c);c.push=e,c=c.slice();for(var u=0;u<c.length;u++)e(c[u]);var l=s;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"2fa2":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},o=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"cesiumContainer"}})])}],r=i("c218"),a={name:"CesiumMap",data:function(){return{}},components:{},methods:{},mounted:function(){r["a"].init()}},c=a,s=(i("789e"),i("2877")),u=Object(s["a"])(c,n,o,!1,null,null,null);e["default"]=u.exports},"35b9":function(t,e,i){},"4f8e":function(t,e,i){},5143:function(t,e,i){},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view")],1)},r=[],a=(i("5c0b"),i("2877")),c={},s=Object(a["a"])(c,o,r,!1,null,null,null),u=s.exports,l=i("8c4f"),h=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"home"},[i("CesiumMap"),i("CesiumTools"),i("TiltPhotography")],1)},f=[],d={name:"Home",components:{}},v=d,p=Object(a["a"])(v,h,f,!1,null,"0604f9e8",null),m=p.exports;n["a"].use(l["a"]);var y=[{path:"/",name:"Home",component:m}],g=new l["a"]({mode:"hash",base:"",routes:y}),b=g,C=i("2f62"),w=i("fcc2"),O={changeTiltPhotographyVisibility:function(t,e){t.tiltPhotographyVisibility=e}},P=O;n["a"].use(C["a"]);var _=new C["a"].Store({state:w["a"],mutations:P,actions:{},modules:{}}),M=(i("d3b7"),i("159b"),i("ddb0"),i("b0c0"),i("ffe0")),T={install:function(t){M.keys().forEach((function(e){var i=M(e).default;t.component(i.name,i)}))}},j=i("5143"),k=i.n(j);n["a"].use(k.a),n["a"].use(T),n["a"].config.productionTip=!1,new n["a"]({router:b,store:_,render:function(t){return t(u)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";var n=i("9c0c"),o=i.n(n);o.a},"789e":function(t,e,i){"use strict";var n=i("9288"),o=i.n(n);o.a},9288:function(t,e,i){},"9c0c":function(t,e,i){},a9c3:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"cesium-tools"},[i("div",{staticClass:"cesium-tools-btn",on:{click:t.resetZoomView}},[t._v("H")]),i("div",{staticClass:"cesium-tools-btn",on:{click:t.resetPitch}},[t._v("L")]),i("div",{staticClass:"cesium-tools-btn",on:{click:function(e){return t.changeZoomLevel(1)}}},[t._v("+")]),i("div",{staticClass:"cesium-tools-btn"},[t._v(t._s(t.currentLevel))]),i("div",{staticClass:"cesium-tools-btn",on:{click:function(e){return t.changeZoomLevel(-1)}}},[t._v("-")]),i("div",{class:"cesium-tools-btn "+(t.tiltPhotographyVisibility?"cesium-tools-btn-hover":""),on:{click:t.changeTiltPhotographyVisibility}},[t._v(" 倾 ")])])},o=[],r=i("c218"),a={name:"CesiumTools",data:function(){return{currentLevel:2,tiltPhotographyVisibility:!1}},components:{},methods:{changeTiltPhotographyVisibility:function(){this.tiltPhotographyVisibility=!this.tiltPhotographyVisibility,this.$store.commit("changeTiltPhotographyVisibility",this.tiltPhotographyVisibility)},resetZoomView:function(){r["a"].resetZoomView()},resetPitch:function(){r["a"].resetPitch()},changeZoomLevel:function(t){var e=this.currentLevel+t;e<1||e>24||(this.currentLevel=e,r["a"].zoomLevel(e))},_zoomChanged:function(){var t=Math.ceil(r["a"].viewer.camera.positionCartographic.height);this.currentLevel=+r["a"].heightToZoom(t)}},mounted:function(){r["a"].viewer.camera.moveEnd.addEventListener(this._zoomChanged)}},c=a,s=(i("cc73"),i("2877")),u=Object(s["a"])(c,n,o,!1,null,"da065ece",null);e["default"]=u.exports},b406:function(t,e,i){"use strict";var n=i("35b9"),o=i.n(n);o.a},c218:function(t,e,i){"use strict";i("d3b7"),i("4ae1");var n=i("d4ec"),o=i("bee2"),r=i("257e"),a=i("262e"),c=i("99de"),s=i("7e84"),u=i("9072"),l=(i("b680"),i("fcc2"));function h(t){var e=f();return function(){var i,n=Object(s["a"])(t);if(e){var o=Object(s["a"])(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return Object(c["a"])(this,i)}}function f(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}var d=window,v=d.Cesium,p=function(t){Object(a["a"])(i,t);var e=h(i);function i(){var t;return Object(n["a"])(this,i),t=e.call(this),t.mapCenterLongitude=107.34145981478143,t.mapCenterLatitude=36.26907364872889,t.viewer=null,t.state=l["a"],window.mapSdk=Object(r["a"])(t),t}return Object(o["a"])(i,[{key:"init",value:function(){v.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiI1Y2EzNzVjYS04NmQyLTRmMTAtODJiOS1lZGM5ZDRiM2FhOWQiLCJpZCI6MTA2MzA4LCJpYXQiOjE2NjE4MjM0MTZ9.DGLjWbAslgVOr34TMPn0tN2UWXqafI4qWCGxzQ9G_nI",this.viewer=new v.Viewer("cesiumContainer",{animation:!1,baseLayerPicker:!1,geocoder:!1,infoBox:!1,selectionIndicator:!1,navigationHelpButton:!1,fullscreenButton:!1,timeline:!1,clock:new v.Clock,shadows:!0,shouldAnimate:!0}),this.viewer._cesiumWidget._creditContainer.style.display="none",this.resetZoomView()}},{key:"flyToPoint",value:function(t){var e=t.longitude,i=void 0===e?this.mapCenterLongitude:e,n=t.latitude,o=void 0===n?this.mapCenterLatitude:n,r=t.duration,a=void 0===r?2:r,c=t.height,s=void 0===c?5e3:c,u=t.heading,l=void 0===u?0:u,h=t.pitch,f=void 0===h?-89:h;this.viewer.scene.camera.flyTo({destination:v.Cartesian3.fromDegrees(i,o,s),orientation:{heading:v.Math.toRadians(l),pitch:v.Math.toRadians(f),roll:0},duration:a})}},{key:"resetZoomView",value:function(){this.flyToPoint({longitude:this.mapCenterLongitude,latitude:this.mapCenterLatitude,duration:1,height:this.zoomToHeight(2),heading:0,pitch:-90})}},{key:"resetPitch",value:function(){var t=this.getCurrentMapCenterPoint(),e=t.longitude,i=t.latitude;this.viewer.scene.camera.flyTo({destination:v.Cartesian3.fromDegrees(e,i,Math.ceil(this.viewer.camera.positionCartographic.height)),orientation:{heading:v.Math.toRadians(0),pitch:v.Math.toRadians(-90),roll:0},duration:2})}},{key:"zoomLevel",value:function(t){var e=this.zoomToHeight(t),i=this.getCurrentMapCenterPoint(),n=i.longitude,o=i.latitude;this.viewer.scene.camera.flyTo({destination:v.Cartesian3.fromDegrees(n,o,e),duration:1})}},{key:"getCurrentMapCenterPoint",value:function(){var t=this.viewer.camera.pickEllipsoid(new v.Cartesian2(this.viewer.canvas.clientWidth/2,this.viewer.canvas.clientHeight/2)),e=v.Ellipsoid.WGS84.cartesianToCartographic(t);return{longitude:180*e.longitude/Math.PI,latitude:180*e.latitude/Math.PI}}},{key:"zoomToHeight",value:function(t){var e=40487.57,i=7096758e-11,n=91610.74,o=-40467.74;return Math.round(n*Math.pow((e-o)/(t-o)-1,1/i))}},{key:"heightToZoom",value:function(t){var e=40487.57,i=7096758e-11,n=91610.74,o=-40467.74,r=Math.round(o+(e-o)/(1+Math.pow(t/n,i))).toFixed();return r<1&&(r=1),r>24&&(r=24),+r}}]),i}(Object(u["a"])(EventTarget));e["a"]=new p},c570:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.tiltPhotographyVisibility?i("div",{staticClass:"tilt-photography-tools"},[t._v("倾斜摄影工具条")]):t._e()},o=[],r=i("5530"),a=i("2f62"),c={name:"TiltPhotography",data:function(){return{}},computed:Object(r["a"])({},Object(a["b"])({tiltPhotographyVisibility:function(t){return t.tiltPhotographyVisibility||!1}})),components:{},methods:{}},s=c,u=(i("b406"),i("2877")),l=Object(u["a"])(s,n,o,!1,null,"753c43a4",null);e["default"]=l.exports},cc73:function(t,e,i){"use strict";var n=i("4f8e"),o=i.n(n);o.a},fcc2:function(t,e,i){"use strict";var n={tiltPhotographyVisibility:!1};e["a"]=n},ffe0:function(t,e,i){var n={"./CesiumMap.vue":"2fa2","./CesiumTools.vue":"a9c3","./TiltPhotography.vue":"c570"};function o(t){var e=r(t);return i(e)}function r(t){if(!i.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}o.keys=function(){return Object.keys(n)},o.resolve=r,t.exports=o,o.id="ffe0"}});
//# sourceMappingURL=app.57c2c10f.js.map